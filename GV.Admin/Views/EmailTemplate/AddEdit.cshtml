<div ng-controller="addEditEmailTemplateCtrl">
    <!-- BEGIN PAGE HEADER-->
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <a href="/">Home</a>
                <i class="fa fa-circle"></i>
            </li>
            <li>
                <a href="/setup">Setup & Configuration</a>
                <i class="fa fa-circle"></i>
            </li>
            <li>
                <a href="/emailtemplate">Email template</a>
                <i class="fa fa-circle"></i>
            </li>
            <li>
                <span ng-if="mode=='Create'">Add new email template</span>
                <span ng-if="mode=='Update'">{{emailTemplate.Name}}</span>
            </li>
        </ul>

    </div>
    <!-- BEGIN PAGE TITLE-->
    <h1 class="page-title">
        Email template
        <small>Add/Edit email template</small>
    </h1>
    <!-- END PAGE TITLE     -->
    <!-- END PAGE HEADER    -->
    <div class="row">
        <form name="emailTemplateForm" class="form form-horizontal" novalidate>
            <div class="form-body">
                <div class="form-group">
                    <label class="col-md-3 control-label">
                        Name
                    </label>
                    <div class="col-md-8" ng-class="{'has-error': hasError(emailTemplateForm.name, 'required')}">
                        <div class="input-icon right">
                            <i class="fa fa-warning" ng-show="hasError(emailTemplateForm.name, 'required')"></i>
                            <input type="text" maxlength="100" class="form-control" name="name" ng-change="validateForm()" placeholder="Enter email template name here" ng-model="emailTemplate.Name" required />
                        </div>
                        <span class="help-block" ng-show="hasError(emailTemplateForm.name, 'required')">Email template name is required</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 control-label">
                        Subject
                    </label>
                    <div class="col-md-8" ng-class="{'has-error': hasError(emailTemplateForm.subject, 'required')}">
                        <div class="input-icon right">
                            <i class="fa fa-warning" ng-show="hasError(emailTemplateForm.subject, 'required')"></i>
                            <input type="text" maxlength="100" class="form-control" name="subject" ng-change="validateForm()" placeholder="Enter email template subject here" ng-model="emailTemplate.Subject" required />
                        </div>
                        <span class="help-block" ng-show="hasError(emailTemplateForm.subject, 'required')">Email template subject is required</span>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 control-label">Body</label>
                    <div class="col-md-8">
                        <div id="email-body" class="form-control" ckeditor="ckEditorOptions" ng-change="validateForm()" ng-model="emailTemplate.Body"></div>                        
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <div class="row">
                    <div class="col-md-offset-4 col-md-4"> 
                        <button type="submit" class="btn btn-primary" ng-disabled="!emailTemplateForm.$dirty" ng-click="submit()">Submit</button>
                        <button type="button" class="btn default" ng-click="cancel()">Back</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

@section js {
    <script src="~/app/components/emailtemplate/emailtemplate.addedit.js"></script>
} 